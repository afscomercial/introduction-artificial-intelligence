{% include 'layout.html' %}

<div class="container">
	<div class="card text-center">
		<div class="card-header">Predict Traffic Collisions</div>
		<div class="card-body">
			<h5 class="card-title">Select the parameters for prediction</h5>
			<p class="card-text">
				Fill out the form below to get predictions on traffic collisions.
			</p>

			<form method="post" action="/predictions">
				<!-- INJURY Dropdown -->
				<div class="form-group">
					<label for="injury">Injury</label>
					<select class="form-control" id="injury" name="injury" required>
						<option value="0">No</option>
						<option value="1">Minimal</option>
						<option value="2">Minor</option>
						<option value="3">Major</option>
						<option value="4">Fatal</option>
					</select>
				</div>

				<!-- INVAGE Dropdown -->
				<div class="form-group">
					<label for="invage">Age of Involved Person</label>
					<select class="form-control" id="invage" name="invage" required>
						<option value="0">Unknown</option>
						<option value="1">Children</option>
						<option value="2">Adults</option>
						<option value="3">Seniors</option>
					</select>
				</div>

				<!-- Passenger -->
				<div class="form-group">
					<label>Passenger:</label><br />
					<input type="radio" id="passenger_yes" name="passenger" value="1.0" />
					<label for="passenger_yes">Yes</label>
					<input type="radio" id="passenger_no" name="passenger" value="0.0" />
					<label for="passenger_no">No</label>
				</div>

				<!-- Speeding -->
				<div class="form-group">
					<label>Speeding:</label><br />
					<input type="radio" id="speeding_yes" name="speeding" value="1.0" />
					<label for="speeding_yes">Yes</label>
					<input type="radio" id="speeding_no" name="speeding" value="0.0" />
					<label for="speeding_no">No</label>
				</div>

				<!-- Truck -->
				<div class="form-group">
					<label>Truck:</label><br />
					<input type="radio" id="truck_yes" name="truck" value="1.0" />
					<label for="truck_yes">Yes</label>
					<input type="radio" id="truck_no" name="truck" value="0.0" />
					<label for="truck_no">No</label>
				</div>

				<!-- Traffctl -->
				<div class="form-group">
					<label>Traffic Control:</label><br />
					<input
						type="radio"
						id="traffctl_no_control"
						name="traffctl"
						value="no_control"
					/>
					<label for="traffctl_no_control">No Control</label>
					<input
						type="radio"
						id="traffctl_automated"
						name="traffctl"
						value="automated"
					/>
					<label for="traffctl_automated">Automated</label>
				</div>

				<!-- Light -->
				<div class="form-group">
					<label>Light:</label><br />
					<input type="radio" id="light_natural" name="light" value="natural" />
					<label for="light_natural">Natural</label>
					<input type="radio" id="light_dark" name="light" value="dark" />
					<label for="light_dark">Dark</label>
					<input
						type="radio"
						id="light_artificial"
						name="light"
						value="artificial"
					/>
					<label for="light_artificial">Artificial</label>
				</div>

				<!-- Alcohol -->
				<div class="form-group">
					<label>Alcohol:</label><br />
					<input type="radio" id="alcohol_yes" name="alcohol" value="1.0" />
					<label for="alcohol_yes">Yes</label>
					<input type="radio" id="alcohol_no" name="alcohol" value="0.0" />
					<label for="alcohol_no">No</label>
				</div>

				<!-- Districts -->
				<div class="form-group">
					<label>District:</label><br />
					<input
						type="radio"
						id="district_scarborough"
						name="district"
						value="scarborough"
					/>
					<label for="district_scarborough">Scarborough</label>
					<input
						type="radio"
						id="district_toronto"
						name="district"
						value="toronto"
					/>
					<label for="district_toronto">Toronto</label>
					<input
						type="radio"
						id="district_etobicoke"
						name="district"
						value="etobicoke"
					/>
					<label for="district_etobicoke">Etobicoke</label>
					<input
						type="radio"
						id="district_northYork"
						name="district"
						value="northYork"
					/>
					<label for="district_northYork">North York</label>
				</div>

				<!-- TRSN -->
				<div class="form-group">
					<label>TRSN:</label><br />
					<input type="radio" id="trsn_yes" name="trsn" value="1.0" />
					<label for="trsn_yes">Yes</label>
					<input type="radio" id="trsn_no" name="trsn" value="0.0" />
					<label for="trsn_no">No</label>
				</div>

				<!-- Red Light -->
				<div class="form-group">
					<label>Red Light:</label><br />
					<input type="radio" id="redlight_yes" name="redlight" value="1.0" />
					<label for="redlight_yes">Yes</label>
					<input type="radio" id="redlight_no" name="redlight" value="0.0" />
					<label for="redlight_no">No</label>
				</div>

				<button type="submit" class="btn btn-primary">Submit</button>
			</form>

			{% if prediction %}
			<div class="alert alert-info mt-4">
				<h5 class="alert-heading">Prediction Result</h5>
				<p>{{ prediction }}</p>
			</div>
			{% endif %}
		</div>
	</div>
</div>
<div>
	<p class="px-2 py-2 text-muted small">env path={{path}}</p>
</div>
<div>
	<p class="px-2 text-muted small">current path={{current_directory}}</p>
</div>
